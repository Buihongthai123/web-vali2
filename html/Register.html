<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Đăng Ký Thành Viên - Website Vali/Túi Du Lịch</title>
  <link rel="stylesheet" href="styles.css">
  <script src="js/jquery-3.7.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>
  
  
    <style>
        span {
          font-size: 15px;
          color: red;
        }
        .registration {
            width: 360px;
            margin: 0px auto;
            background-color: orange;
            border-radius: 9px;
        }
        h2 {
          text-align: center;
          padding-top: 15px;
        }
        form {
          width: 300px;
          margin-left: 20px;
        }
        form label {
          display: flex;
          margin-top: 15px;
          font-size: 18px;
        }
        form input {
          width: 100%;
          padding: 3px;
          border: none;
          border: 1px solid gray;
          border-radius: 6px;
          outline: none;
        }
        #registration-form button{
          width: 200px;
          height: 35px;
          margin-top: 20px;
          margin-left: 55px;
          background-color: purple;
          font-size: 15px;
          color: white;
        }
        p {
          text-align: center;
          padding-top: 20px;

        }
    </style>
    <script>
  $(document).ready(function() {

  $('#registration-form').submit(function(event) {
    event.preventDefault();
function isValidDateOfBirth(dob) {
  var today = new Date();
  var birthDate = new Date(dob);
  var age = today.getFullYear() - birthDate.getFullYear();
  var monthDiff = today.getMonth() - birthDate.getMonth();

  if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
    age--;
  }

  return age >= 10;
}

    var fullname = $('#full-name').val();
    var dob = $('#dob').val();
    var email = $('#email').val();
    var phone = $('#phone').val();
    var username = $('#username').val();
    var password = $('#password').val();

    
    var phoneRegex = /^\d{8,}$/;
    var usernameRegex = /^[a-zA-Z0-9_]{5,15}$/;
    var passwordRegex = /^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d!@#$%^&*()_+]{8,}$/;

    // Xóa thông báo lỗi trước khi kiểm tra
    $('.error').text('');

    


    if (!isValidDateOfBirth(dob)) {
      $('#tbdob').text("*Tuổi phải trên 10.");
      return;
    }


    if (!phoneRegex.test(phone)) {
      $('#tbphone').text("*Số điện thoại không hợp lệ. Số điện thoại phải có ít nhất 8 chữ số.");
      return;
    }

    if (!usernameRegex.test(username)) {
      $('#tbusername').text("*Tên đăng nhập không hợp lệ. Tên đăng nhập phải chứa chữ, số, ký tự đặc biệt và có độ dài từ 5 đến 15 ký tự.");
      return;
    }

    if (!passwordRegex.test(password)) {
      $('#tbpassword').text("*Mật khẩu không hợp lệ. Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ cái in hoa, số và ký tự đặc biệt.");
      return;
    }
    
   confirm('Xác nhận thông tin của bạn\n'+"Họ Tên: "+fullname+"\n"+"Ngày Sinh: "+dob+"\n"+"Email: "+email+"\n"+"SĐT: "+phone+"\n"+"Tên Đăng Nhập: "+username+"\n"+"Mật khẩu: "+password)
    
   // Lưu thông tin đăng ký vào Local Storage
   var userInfo = {
      fullname: fullname,
      dob: dob,
      email: email,
      phone: phone,
      username: username,
      password: password
    };
    localStorage.setItem('userInfo', JSON.stringify(userInfo));
});

});  
      
  </script>
</head>
<body>
  <header>
    <nav>
        <ul class="menu">
          <li><a href="https://votanthanhlaptrinh.github.io/buihongthai.io/">Trang Chủ</a></li>
          <li><a href="Products.html">Sản Phẩm</a></li>
          <li><a href="About.html">Giới Thiệu</a></li>
          <li><a href="Register.html">Đăng ký</a></li>
        </ul>
      </nav>
      <div class="logo">
        <h1>
          <img src="Hinh/logo.png" alt="" srcset="" width="100%" height="100%">
        </h1>
      </div>
      <div class="login-form">
        <form>
            
        </form>
      </div>
      <div class="search-form">
          <form action="search.html" method="GET">
            <input type="text" name="q" placeholder="Tìm kiếm...">
            <button type="submit">Tìm Kiếm</button>
          </form>
      </div>
  </header>

  <section class="registration">
    <h2>Đăng Ký Thành Viên</h2>
    <form class="form" id="registration-form">
        <label for="full-name">Họ và tên:</label>
      <input type="text" id="full-name" name="full-name" placeholder="full-name" required><br>
      <span id="tbten">*Bắt buộc</span>
      <label for="dob">Ngày sinh:</label>
      <input type="date" id="dob" name="dob"><br>
      <span id="tbdob">*Bắt buộc</span>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required><br>
      <span id="tbemail">*Bắt buộc</span>
      <label for="phone">Số điện thoại:</label>
      <input type="tel" id="phone" name="phone" required><br>
      <span id="tbphone">*Bắt buộc</span>
      <label for="username">Tên đăng nhập:</label>
      <input type="text" id="username" name="username" required><br>
      <span id="tbusername">*Bắt buộc</span>
      <label for="password">Mật khẩu:</label>
      <input type="password" id="password" name="password"required><br>
      <label for="password">Xác nhận mật khẩu:</label>
      <input type="password" id="passwordcfrm" name="passcfrm" required>
      <span id="tbpassword">*Bắt buộc</span>
      <button type="submit" id="btnSave"><d>Đăng Ký</d></button>
    </form>
    <div id="registration-info"></div>
    <p>Bằng việc bấm vào nút Đăng Ký, bạn đồng ý với
    <a href="#">Điều khoản</a> và <a href="#">Chính Sách riêng tư</a> của chúng tôi
    </p>
    <div>
      <p>Bạn đã có tài khoản? <a href="https://votanthanhlaptrinh.github.io/buihongthai.io/">Đăng Nhập tại trang chủ</a></p>
    </div>
  </section>

  <footer>
    <p>&copy; 2024 Website Vali/Túi Du Lịch</p>
  </footer>

</body>
</html>
